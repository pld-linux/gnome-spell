- completly rewrited in PLD coding style.

Based on MDK version.
